<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Grapesjs Rulers</title>
  <link href="https://unpkg.com/grapesjs/dist/css/grapes.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./dist/grapesjs-rulers.min.css">
  <script src="./dist/index.js"></script>
  <script src="https://unpkg.com/grapesjs"></script>
  <style>
    body,
    html {
      height: 100%;
      margin: 0;
    }
  </style>
</head>

<body>

  <div id="gjs" style="height:0px; overflow:hidden">
    <div class="panel">
      <h1 class="welcome">Welcome to</h1>
      <div class="big-title">
        CENAS
      </div>

    </div>
    <style>
      .panel {
        width: 90%;
        max-width: 700px;
        border-radius: 3px;
        padding: 30px 20px;
        margin: 150px auto 0px;
        background-color: #d983a6;
        box-shadow: 0px 3px 10px 0px rgba(0, 0, 0, 0.25);
        color: rgba(255, 255, 255, 0.75);
        font: caption;
        font-weight: 100;
      }

      .welcome {
        text-align: center;
        font-weight: 100;
        margin: 0px;
      }

      .logo {
        width: 70px;
        height: 70px;
        vertical-align: middle;
      }

      .logo path {
        pointer-events: none;
        fill: none;
        stroke-linecap: round;
        stroke-width: 7;
        stroke: #fff
      }

      .big-title {
        text-align: center;
        font-size: 3.5rem;
        margin: 15px 0;
      }

      .description {
        text-align: justify;
        font-size: 1rem;
        line-height: 1.5rem;
      }
    </style>
  </div>


  <script type="text/javascript">
    // Provide a safe `plugin` variable for the browser demo
    // The package exposes a UMD global: `window['grapesjs-rulers']`.
    // When bundled by webpack rollups it might keep the export in `.default`.
    const plugin = (window['grapesjs-rulers'] && (window['grapesjs-rulers'].default || window['grapesjs-rulers'])) || null;
    if (!plugin) {
      console.error('grapesjs-rulers not loaded. The rulers plugin will not work.');
    }
    // Provide an optional init wrapper that calls the plugin only when available
    const pluginInit = plugin ? (editor => plugin(editor, {
        rulerOpts: {
          unit: 'cm', // show centimeters
          dpi: 96,
          fillStyle: '#2ecc71', // green font for demo
          fontSize: '7px', // smaller font for demo
          fontWeight: '700',
          labelStroke: 'rgba(0,0,0,0.85)',
        }
    })) : undefined;

    window.editor = grapesjs.init({
      height: '100%',
      container: '#gjs',
      showOffsets: true,
      fromElement: true,
      noticeOnUnload: false,
      storageManager: false,
      plugins: [
        "grapesjs-rulers",
        // Ensure the `plugin` variable is defined; call it through pluginInit
        pluginInit
      ],
      pluginsOpts: {
        'grapesjs-rulers': {
          /* Test here your options  */
        }
      }
    });

    const pn = editor.Panels;
    const panelViews = pn.addPanel({
      id: 'options'
    });
    panelViews.get('buttons').add([{
      attributes: {
        title: 'Toggle Rulers'
      },
      label: `<svg width="18" viewBox="0 0 16 16"><path d="M0 8a.5.5 0 0 1 .5-.5h15a.5.5 0 0 1 0 1H.5A.5.5 0 0 1 0 8z"/><path d="M4 3h8a1 1 0 0 1 1 1v2.5h1V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v2.5h1V4a1 1 0 0 1 1-1zM3 9.5H2V12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9.5h-1V12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9.5z"/></svg>`,
      command: 'ruler-visibility',
      id: 'ruler-visibility'
    }]);
  </script>
</body>

</html>